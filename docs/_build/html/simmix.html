

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>simmix module &mdash; S0krates 5.0.0.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> S0krates
          

          
          </a>

          
            
            
              <div class="version">
                5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">How it works</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">S0krates</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>simmix module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/simmix.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-simmix">
<span id="simmix-module"></span><h1>simmix module<a class="headerlink" href="#module-simmix" title="Permalink to this headline">¶</a></h1>
<p>This module allows to overlap different similarity measures. Give it two lists or two lists of pairs of expressions and it find the ones, that belong together in a way, how you defined ‘belonging together’.</p>
<blockquote>
<div><p>This module is intended for overlapping an open-end variety of similarty measures on complex data in
natural language processing. Its like an organ with different registers for text-comparisons.</p>
<p>Choices are made from two lists of dict elements, that are representing some phrases. They are bundles
of properties, as their text, grammar, also a logical formula to represent their logical structure (pyprover), semantical vectors (and syntactical, like elmo-embeddings from allen-nlp) , tdf-idf-importance and some more. These are predefined here, if you know some of your own,its possible to give custom functions.</p>
<p>Predicates have the form of dictionaries to reveal their different properties in computer linguistics.
They can be tagged differently (pos, tag, dep), lemmatized, vectors and other kinds of represantations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;Black&#39;</span><span class="p">,</span> <span class="s1">&#39;bird&#39;</span><span class="p">,</span> <span class="s1">&#39;singing&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;dead&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;night&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;lemma&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;bird&#39;</span><span class="p">,</span> <span class="s1">&#39;sing&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;dead&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;night&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;dep_&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;amod&#39;</span><span class="p">,</span> <span class="s1">&#39;subj&#39;</span><span class="p">,</span> <span class="s1">&#39;compound&#39;</span><span class="p">,</span> <span class="s1">&#39;prep&#39;</span><span class="p">,</span> <span class="s1">&#39;pobj&#39;</span><span class="p">,</span> <span class="s1">&#39;det&#39;</span><span class="p">,</span> <span class="s1">&#39;prep&#39;</span><span class="p">,</span> <span class="s1">&#39;pobj&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="s1">&#39;your&#39;</span><span class="p">,</span> <span class="s1">&#39;life&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;lemma&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;your&#39;</span><span class="p">,</span> <span class="s1">&#39;life&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;dep_&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;det&#39;</span><span class="p">,</span> <span class="s1">&#39;poss&#39;</span><span class="p">,</span> <span class="s1">&#39;subj&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;You&#39;</span><span class="p">,</span> <span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span> <span class="s1">&#39;your&#39;</span><span class="p">,</span> <span class="s1">&#39;life&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;lemma&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;You&#39;</span><span class="p">,</span> <span class="s1">&#39;love&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span> <span class="s1">&#39;your&#39;</span><span class="p">,</span> <span class="s1">&#39;life&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;dep_&#39;</span> <span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;nsubj&#39;</span><span class="p">,</span> <span class="s1">&#39;ROOT&#39;</span><span class="p">,</span> <span class="s1">&#39;det&#39;</span> <span class="s1">&#39;poss&#39;</span><span class="p">,</span> <span class="s1">&#39;dobj&#39;</span><span class="p">],}</span>
</pre></div>
</div>
</div></blockquote>
<p>This model now goes on to compare two lists of such predicate-dictionaries. But first you have to specify, how you
want to compare them. You can compare app. Because indeed apples and pears and carrots are comparable, but you can
choose, which perspective to use for that comparison, maybe by weight, by volume, color, shape or whatsoever.</p>
<p>Here we define, that we want to compare this time the text of the expressions with string-fuzzy logic.
We instantiate the Simmix-module and give it this list of tuple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">function_tuples</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>            <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Simmix</span><span class="o">.</span><span class="n">fuzzystr_sim</span><span class="p">,</span> <span class="mf">0.72</span><span class="p">,</span> <span class="mf">2.01</span><span class="p">),</span> <span class="c1"># fuzzy-string-comparison</span>
<span class="gp">... </span>            <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Simmix</span><span class="o">.</span><span class="n">dep_sim</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>           <span class="c1"># levensthein distance of the dependency measures</span>
<span class="gp">... </span>            <span class="p">]</span>
</pre></div>
</div>
<p>And then the Simmix module can be initialized with that:</p>
<p>These 4-tuples consist in</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">function_tuple</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">weight</span><span class="p">,</span>                                   <span class="c1"># weight of this measure</span>
    <span class="n">function</span><span class="p">,</span>                                 <span class="c1"># function without argument that takes Dict[str:?], Dict[str: ?] -&gt; float</span>
    <span class="n">maximal_threshold</span><span class="p">,</span>                        <span class="c1"># minimum threshold</span>
    <span class="n">minimal_threshold</span><span class="p">,</span>                        <span class="c1"># maximum threshold</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>And to apply that to the defined predicates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">superficial_sim</span>  <span class="o">=</span>    <span class="o">...</span>    <span class="n">Simmix</span><span class="p">(</span><span class="n">function_tuples</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">superficial_sim</span><span class="o">.</span><span class="n">choose</span><span class="p">(([</span><span class="n">p1</span><span class="p">],[</span><span class="n">p2</span><span class="p">,</span><span class="n">p2</span><span class="p">]))</span>
</pre></div>
</div>
<dl class="class">
<dt id="simmix.Simmix">
<em class="property">class </em><code class="descclassname">simmix.</code><code class="descname">Simmix</code><span class="sig-paren">(</span><em>similarity_composition</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="simmix.Simmix.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>similarity_composition</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup, which functions are taken to compute a similarity matrix to choose from some natural language expressions, that are already analysed in the manner of <a class="reference internal" href="predicatrix2.html#predicatrix2.Predication" title="predicatrix2.Predication"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Predication</span></code></a>.</p>
<p>Under the hood a similarity matrix is computed by a cartesian product of the two samples of expressions as
two vectors and a vector valued function,</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\overrightarrow{f}(x_{1,n}, x_{2,m}) = \langle f_1(x_{1,n}, x_{2,m}), f_2(x_{1,n}, x_{2,m}), \dots f_k(x_{1,n}, x_{2,m}) \rangle\]</div>
</div></blockquote>
<p>The function matrix then is:</p>
<img alt="_images/aslant_matrix.png" src="_images/aslant_matrix.png" />
<p>Then the sum of the results of the matrix are normalized by attaching two vectors for minimum and maximum of the functions to each of the planes.
Then the results are normalized.
And the added maximum and miminum vectors are taken off.</p>
<p>Then the matrix is weighted by building the scalar product.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\overrightarrow{w} \bullet \sum D\overrightarrow{f}(\overrightarrow{x_1}, \overrightarrow{x_2})  \Delta n = \overrightarrow{w} \bullet
\begin{bmatrix}
     \sum_{n=1}^l f_n(x_{1,1}, x_{2,1}) &amp; \sum_{n=1}^l f_n(x_{1,2}, x_{2,1}) &amp; \cdots &amp; \sum_{n=1}^l f_n(x_{1,x}, x_{2,1})\\
     \sum_{n=1}^l f_n(x_{1,1}, x_{2,2}) &amp; \sum_{n=1}^l f_n(x_{1,2}, x_{2,2}) &amp; \cdots &amp; \sum_{n=1}^l f_n(x_{1,x}, x_{2,2})\\
      \vdots  &amp; \vdots  &amp; \ddots &amp; \vdots  \\
     \sum_{n=1}^l f_n(x_{1,1}, x_{2,y}) &amp; \sum_{n=1}^l f_n(x_{1,2}, x_{2,y}) &amp; \cdots &amp; \sum_{n=1}^l f_n(x_{1,x}, x_{2,y})
 \end{bmatrix}\end{split}\]</div>
<p>You can set a range of valid results of the similarity functions. If the value for one function, the expression is excluded.</p>
<p>After this, one can adjust different modes, how to make a choice based on this similarity matrix.
Either to take exactly one with the maximal similarity, or to take the best n, or get an optimal 1:1 alignment.</p>
<p>Last but not least there are different possibilities, how to get back the results.</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>the expressions pairs, that are the chosen</dt>
<dd><ul class="first last">
<li><a class="reference internal" href="#simmix.Simmix.expressions_list" title="simmix.Simmix.expressions_list"><code class="xref py py-func docutils literal notranslate"><span class="pre">expressions_list()</span></code></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>just the indices of the input expressions or just of the left resp. right expression list.</dt>
<dd><ul class="first last">
<li><code class="xref py py-func docutils literal notranslate"><span class="pre">i_list()</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>write it into a graph, if you present a routinr for writing in a graph (a coroutine, to receive the result with <cite>data=(yield) and send with `corou.send(data…)</cite> send).</dt>
<dd><ul class="first last">
<li><a class="reference internal" href="#simmix.Simmix.write_to_graph" title="simmix.Simmix.write_to_graph"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_to_graph()</span></code></a></li>
</ul>
</dd>
</dl>
</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>similarity_composition</strong> – <dl class="docutils">
<dt>list of tuples (</dt>
<dd>weight&lt;float&gt;,
fun&lt;function, accepting expressiondicts as arguments&gt;,
min-val&lt;float&gt;,
max-val&lt;float&gt;)</dd>
</dl>
</li>
<li><strong>n</strong> – number of results to return, can be overridden with choose(…)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.abtract_conrete_sim">
<code class="descname">abtract_conrete_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.abtract_conrete_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.abtract_conrete_sim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.apply_sim_fun">
<code class="descname">apply_sim_fun</code><span class="sig-paren">(</span><em>fee</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.apply_sim_fun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.apply_sim_fun" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the field of functions to the arguments</p>
<p>The argument are 3-tuples, with the function and the two expressions, these expressions are feeded into the functions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fee</strong> – tuple</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">return value of the function</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">TypeError if the function does not give a 2-tuple of value and dictionary information for backtracking</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.beam_under_construction">
<code class="descname">beam_under_construction</code><span class="sig-paren">(</span><em>ex2</em>, <em>info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.beam_under_construction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.beam_under_construction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.boolean_same_sim">
<code class="descname">boolean_same_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.boolean_same_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.boolean_same_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the text the same in the other?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with ‘text’</li>
<li><strong>ex2</strong> – dict with ‘text</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0-1 , {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.boolean_sim">
<code class="descname">boolean_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.boolean_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.boolean_sim" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>According to a dictionary, that says, which attribute in the one of the pair must also in the attribute</dt>
<dd><p class="first">of the other one, if a match should be there.</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;lemma&#39;</span><span class="p">:</span>
<span class="gp">... </span>           <span class="p">{</span><span class="s1">&#39;black&#39;</span><span class="p">:[</span><span class="s1">&#39;life&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s1">&#39;gray&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;shade&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;gray&#39;</span><span class="p">)]</span>
<span class="gp">... </span>             <span class="p">},</span>
<span class="gp">... </span>     <span class="s1">&#39;dep_&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;subj&#39;</span><span class="p">:</span> <span class="s1">&#39;subj&#39;</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;Black&#39;</span><span class="p">,</span> <span class="s1">&#39;bird&#39;</span><span class="p">,</span> <span class="s1">&#39;singing&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;dead&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;night&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;lemma&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;bird&#39;</span><span class="p">,</span> <span class="s1">&#39;sing&#39;</span><span class="p">,</span> <span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;the&#39;</span><span class="p">,</span> <span class="s1">&#39;dead&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;night&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;dep_&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;amod&#39;</span><span class="p">,</span> <span class="s1">&#39;subj&#39;</span><span class="p">,</span> <span class="s1">&#39;compound&#39;</span><span class="p">,</span> <span class="s1">&#39;prep&#39;</span><span class="p">,</span> <span class="s1">&#39;pobj&#39;</span><span class="p">,</span> <span class="s1">&#39;det&#39;</span><span class="p">,</span> <span class="s1">&#39;prep&#39;</span><span class="p">,</span> <span class="s1">&#39;pobj&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="s1">&#39;your&#39;</span><span class="p">,</span> <span class="s1">&#39;life&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;lemma&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;your&#39;</span><span class="p">,</span> <span class="s1">&#39;life&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;dep_&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;det&#39;</span><span class="p">,</span> <span class="s1">&#39;poss&#39;</span><span class="p">,</span> <span class="s1">&#39;subj&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Simmix</span><span class="o">.</span><span class="n">boolean_sim</span> <span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">)</span>
<span class="go">(2, {})</span>
</pre></div>
</div>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>attrib_dict</strong> – dict of dict of lists of strings</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of matched conditions and {}, the beam to follow the computation in some cases</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.boolean_subsame_sim">
<code class="descname">boolean_subsame_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.boolean_subsame_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.boolean_subsame_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the text of the one contained in the other?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with ‘text’</li>
<li><strong>ex2</strong> – dict with ‘text</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0-1  , {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.choose">
<code class="descname">choose</code><span class="sig-paren">(</span><em>data</em>, <em>out=None</em>, <em>layout=None</em>, <em>n=None</em>, <em>graph_coro=None</em>, <em>type=None</em>, <em>output=False</em>, <em>minimize=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.choose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.choose" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose in different manners building a similarity matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – tuple of lists of expressions, meaning the dictionaries or what is compared for you</li>
<li><strong>out</strong> – defines the structure of the returned value
default=None: the chosed expressions are returned
‘i’: only the indices
‘r’: only the indices of the right value are returned
‘2t’: pairs of tuples (for building a graph
‘nx’: directed networkxgraph</li>
<li><strong>graph_coro</strong> – graph_coroutine, that accepts a 3-tuple of two dictionaries and a <cite>type</cite> string</li>
<li><strong>type</strong> – <dl class="docutils">
<dt>If using <cite>G</cite>, one has to specify the type-argument,</dt>
<dd><ul class="first last">
<li>either in case of input lists as data a string,</li>
<li>or a 3tuple <cite>(type_l_pair, type_r_pair, type_between)=type</cite> in case of input datatypes like the</li>
</ul>
</dd>
</dl>
<p>list-tuple-list-dict, that this module returns</p>
</li>
<li><strong>layout</strong> – default=None behavior like n=1
‘1:1’ means for each one element of the one expression is eactly one chosen from the other
‘n:m’ for samples of n elements are fitting m other elements chosen from the other expression</li>
<li><strong>n</strong> – default=1
count of best n solutions, also clusters of expressions of the one are chosen to fit to a cluster of the other</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of tuples of lists of ints or indexed expressions, according to the chosen ‘out’ parameter</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.common_words_sim">
<code class="descname">common_words_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.common_words_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.common_words_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>This function gives weighted score for common words and negative weighted score for words, that appear only
in one expressions.</p>
<p>The weight of the weighted score is the tdidf-score in the document.</p>
<div class="math notranslate nohighlight">
\[c = \dfrac{\sum_{n=1}^{|W_{x_1} \cup W_{x_2}|} 2        ext{tf-idf}(w_n,x_1, D) -       ext{tf-idf}(w_n,x_1, D) -       ext{tf-idf}(w_n,x_2, D)}{|W_{x_1} \cup W_{x_2}|}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with ‘importance’ and ‘lemma’</li>
<li><strong>ex2</strong> – dict with ‘importance’ and ‘lemma’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">c and backtracking beam {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.convolve_sim">
<code class="descname">convolve_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.convolve_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.convolve_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares embeddings with a convolution</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with [‘elmo_embeddings_full’]</li>
<li><strong>ex2</strong> – dict with [‘elmo_embeddings_full’]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float and bracktracking {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.coreferential_sim">
<code class="descname">coreferential_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.coreferential_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.coreferential_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the expressions are coreferential.</p>
<p>That means, either they refer to the same expression or they refer to one another</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with ‘coref’, ‘s_id’, ‘full_ex_i’</li>
<li><strong>ex2</strong> – dict with ‘coref’, ‘s_id’, ‘full_ex_i’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0 or 1</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.dep_sim">
<code class="descname">dep_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.dep_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.dep_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the dep tags. Levenstejn distance per total length of both expresions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with [‘dep’]</li>
<li><strong>ex2</strong> – dict with [‘dep’]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float and bracktracking {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="simmix.Simmix.do_logic">
<em class="property">classmethod </em><code class="descname">do_logic</code><span class="sig-paren">(</span><em>formulas=None</em>, <em>key_rel=None</em>, <em>negate_one=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.do_logic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.do_logic" title="Permalink to this definition">¶</a></dt>
<dd><p>This function does the logic and returns true, it can generate a contradiction</p>
<p>It renames the keys in the formula: These keys, that don’t belong to each other, get some other name.
The relationated keys get the same key.</p>
<p>If  negate_one` is set, then for one relationated key a negation is added. That is used, if the expression, that
this key stands for contains a negation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>formulas</strong> – formulas 1 and 2 as tuple</li>
<li><strong>key_rel</strong> – the keys to combine</li>
<li><strong>negate_one</strong> – add a negation to one of the keys of key_rel</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">1 for a contradiction, 0 for no one</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.elmo_layer_sim">
<code class="descname">elmo_layer_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.elmo_layer_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.elmo_layer_sim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.elmo_multi_sim">
<code class="descname">elmo_multi_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.elmo_multi_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.elmo_multi_sim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.elmo_sim">
<code class="descname">elmo_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.elmo_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.elmo_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the expressions by their elmo embeddings, all three layers are taken into account.</p>
<p>There is a problem with comparing a really long expression with a short one, then the similarity is normaly
higher than with shorter expressions. You can imagine this, if you put different vectors  together by summing
them up, you get statistically a vector, that goes in every direction and is more like a snowball, all snowballs
look equal, but not totally the same.
If you have just around 5, then its quite more directed. So I decided to divide it with a the natural logarithm
of the biggstes lengths of both. Maybe I can’t back up that scientificially, ok.</p>
<p>..math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> \<span class="n">ln</span> <span class="p">(</span>\<span class="n">dfrac</span><span class="p">{</span>    <span class="n">ext</span><span class="p">(</span><span class="nb">max</span><span class="p">)}{</span><span class="mi">2</span><span class="n">e</span><span class="p">})</span> <span class="o">*</span> <span class="p">(</span>              <span class="n">ext</span><span class="p">{</span><span class="n">cosine</span> <span class="n">distance</span><span class="p">}(</span>\<span class="n">overrightarrow</span><span class="p">{</span><span class="n">x_</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">}},</span> \<span class="n">overrightarrow</span><span class="p">{</span><span class="n">x_</span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">}})</span> <span class="o">+</span>              <span class="n">ext</span><span class="p">{</span><span class="n">cosine</span> <span class="n">distance</span><span class="p">}(</span>\<span class="n">overrightarrow</span><span class="p">{</span><span class="n">x_</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">}},</span> \<span class="n">overrightarrow</span><span class="p">{</span><span class="n">x_</span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">}})</span> <span class="o">+</span>              <span class="n">ext</span><span class="p">{</span><span class="n">cosine</span> <span class="n">distance</span><span class="p">}(</span>\<span class="n">overrightarrow</span><span class="p">{</span><span class="n">x_</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}},</span> \<span class="n">overrightarrow</span><span class="p">{</span><span class="n">x_</span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">}})</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with [‘elmo_embeddings’, ‘full_ex’]</li>
<li><strong>ex2</strong> – dict with [‘elmo_embeddings’, ‘full_ex]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float and bracktracking {}</p>
</td>
</tr>
</tbody>
</table>
<p>TODO Parentheses bug!</p>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.elmo_weighted_sim">
<code class="descname">elmo_weighted_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.elmo_weighted_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.elmo_weighted_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a tf-idf-importance weighted, length-normalized measure based on the most semantical layer of elmo-
embeddings</p>
<dl class="docutils">
<dt>..math::</dt>
<dd>c = ln (dfrac{   ext(max)}{2e}) * (              ext{cosine distance}(overrightarrow{x_{1,0}}, overrightarrow{x_{2,0}}) +              ext{cosine distance}(overrightarrow{x_{1,1}}, overrightarrow{x_{2,1}}) +              ext{cosine distance}(overrightarrow{x_{1,2}}, overrightarrow{x_{2,2}})</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with ‘elmo_embeddings_per_word’, ‘importance’</li>
<li><strong>ex2</strong> – dict with ‘elmo_embeddings_per_word’, ‘importance’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">-20 to +20 , {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.excluding_pair_boolean_sim">
<code class="descname">excluding_pair_boolean_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.excluding_pair_boolean_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.excluding_pair_boolean_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>The defined pair of values mustn’t occur in one of the statements at once and in the other.</p>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.expressions_list">
<code class="descname">expressions_list</code><span class="sig-paren">(</span><em>right_values</em>, <em>exs1</em>, <em>exs2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.expressions_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.expressions_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects the expressions from the indices</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>left_value</strong> – list of ints, indices for exs1</li>
<li><strong>right_values</strong> – list of list of indices for exs2, they are indices, because they can be more than one if found</li>
<li><strong>exs1</strong> – list of dicts or list of tuples of list of dicts</li>
<li><strong>exs2</strong> – list of dicts or list of tuples of list of dicts</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.formula_contradicts">
<code class="descname">formula_contradicts</code><span class="sig-paren">(</span><em>symmetric=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.formula_contradicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.formula_contradicts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.formula_prooves">
<code class="descname">formula_prooves</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.formula_prooves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.formula_prooves" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.fuzzystr_sim">
<code class="descname">fuzzystr_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.fuzzystr_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.fuzzystr_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the text tags. Levenstejn distance per total length of both expresiions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with [‘text’]</li>
<li><strong>ex2</strong> – dict with [‘text’]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float and bracktracking {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.head_dep_sim">
<code class="descname">head_dep_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.head_dep_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.head_dep_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the dep tags. Levenstejn distance per total length of both expresions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with [‘full_ex’, head, dep, tag, pos]</li>
<li><strong>ex2</strong> – dict with [‘dep’]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float and bracktracking {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.i_list">
<code class="descname">i_list</code><span class="sig-paren">(</span><em>left_value</em>, <em>right_values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.i_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.i_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="simmix.Simmix.key_regex">
<code class="descname">key_regex</code><em class="property"> = re.compile(&quot;pyprover\\.logic\\.Prop\\(\\'([a-zA-Z0-9])+\\'\\)&quot;)</em><a class="headerlink" href="#simmix.Simmix.key_regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.left_sim">
<code class="descname">left_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.left_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.left_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the expression2 left of expression1?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – predicate-tuple</li>
<li><strong>ex2</strong> – predicate-tuple</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0 or 1 (if left), {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.lemma_sim">
<code class="descname">lemma_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.lemma_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.lemma_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the lemma tags. Levenstejn distance per total length of both expresiions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with [‘lemma’]</li>
<li><strong>ex2</strong> – dict with [‘lemma’]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float and bracktracking {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.longer_sim">
<code class="descname">longer_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.longer_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.longer_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Difference between the lenght of the expressions.</p>
<p>..math:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="o">|</span><span class="n">W_</span><span class="p">{</span><span class="n">x_1</span><span class="p">}</span> \<span class="n">cup</span> <span class="n">W_</span><span class="p">{</span><span class="n">x_2</span><span class="p">}</span><span class="o">|</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – expression1</li>
<li><strong>ex2</strong> – expression2</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">abs (len(ex1[‘i’]) - len [‘i’], {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.multi_sim">
<code class="descname">multi_sim</code><span class="sig-paren">(</span><em>n=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.multi_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.multi_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>This wrapper turns functions, that evaluate pairs of expression, into functions, that work with tuples (!)
of expressions. This is done by comparing each value in these list with each value in the other list.</p>
<p>define the function like this</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sx</span> <span class="o">=</span> <span class="n">Simmix</span> <span class="p">(</span>
<span class="go">       [(1, Simmix.multi_sim(Simmix.fuzzystr_sim, n=7), 0.5, 1)]</span>
<span class="go">       )</span>
</pre></div>
</div>
<p>and work with data that are a tuple lists of tuples of tuples lists of predicate-dicts</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span>
<span class="go">            [([{&#39;text&#39;: ..., ...}],[{&#39;text&#39;: ..., ...}])],</span>
<span class="go">            [([{&#39;text&#39;: ..., ...}],[{&#39;text&#39;: ..., ...}])])</span>
</pre></div>
</div>
<p>That you need, if you want to filter the results of simmix again with simmix, for example what pairs of
expressions fit to other expressions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> – How many values are maximally expected in these lists? The expected range of the multi-fun is the
square of this</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">wrapped function</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.one_to_one">
<code class="descname">one_to_one</code><span class="sig-paren">(</span><em>exs1</em>, <em>exs2</em>, <em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.one_to_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.one_to_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute combinations of input-lists with a solution connecting one to one expression.
Solved with the hungarian method, filtered by the mask of acceptable solutions within the allowed range of values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>exs1</strong> – list of comparaed values  in x direction</li>
<li><strong>exs2</strong> – list of compared values   in y direction</li>
<li><strong>mask</strong> – np boolean mask of fine solutions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">tuple of list of indices to the exs1 list and of indices of the exs2 list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.pos_sim">
<code class="descname">pos_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.pos_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.pos_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the pos tags. Levenstejn distance per total length of both expressions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with [‘pos’]</li>
<li><strong>ex2</strong> – dict with [‘pos’]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float and bracktracking {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.reduce_i_s_pair_tuples">
<code class="descname">reduce_i_s_pair_tuples</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.reduce_i_s_pair_tuples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.reduce_i_s_pair_tuples" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.reduce_i_s_right_values">
<code class="descname">reduce_i_s_right_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.reduce_i_s_right_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.reduce_i_s_right_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.right">
<code class="descname">right</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.right"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.right" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the expression2 right of expression1?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – predicate-tuple</li>
<li><strong>ex2</strong> – predicate-tuple</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0 or 1 (if right), {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.same_sent_sim">
<code class="descname">same_sent_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.same_sent_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.same_sent_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if both expressions are from the same sentence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with ‘s_id’</li>
<li><strong>ex2</strong> – dict with ‘s_id’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0 or 1</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.standard_range">
<code class="descname">standard_range</code><span class="sig-paren">(</span><em>maxim</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.standard_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.standard_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for similarity computing functions, it is later used for normalisation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>maxim</strong> – maximum value</li>
<li><strong>maxim</strong> – minimum value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">decorated function</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.sub_i">
<code class="descname">sub_i</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.sub_i"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.sub_i" title="Permalink to this definition">¶</a></dt>
<dd><p>Are the one tokens a subset of the other tokens?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with ‘i_s’</li>
<li><strong>ex2</strong> – dict with ‘i_s</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">0-1</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.tag_sim">
<code class="descname">tag_sim</code><span class="sig-paren">(</span><em>ex2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.tag_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.tag_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the tag tags. Levenstejn distance per total length of both expresiions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ex1</strong> – dict with [‘tag’]</li>
<li><strong>ex2</strong> – dict with [‘tag’]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float and bracktracking {}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simmix.Simmix.vecs_sim">
<code class="descname">vecs_sim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.vecs_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.vecs_sim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.Simmix.write_to_graph">
<code class="descname">write_to_graph</code><span class="sig-paren">(</span><em>graph_coro</em>, <em>type</em>, <em>exs1</em>, <em>exs2</em>, <em>left_value</em>, <em>right_values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#Simmix.write_to_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.Simmix.write_to_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a result to the graph using a coroutine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph_coro</strong> – coroutine to send a (dict, dict, type)-tuple to. This also can be a list con coroutines and the same
arguments will be applied to them</li>
<li><strong>type</strong> – the type added to the pair of dicts</li>
<li><strong>exs1</strong> – expression list 1</li>
<li><strong>exs2</strong> – expression list 2</li>
<li><strong>left_value</strong> – list of left indices</li>
<li><strong>right_values</strong> – list of right indices</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="simmix.TestSimmix">
<em class="property">class </em><code class="descclassname">simmix.</code><code class="descname">TestSimmix</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#TestSimmix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.TestSimmix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.case.TestCase</span></code></p>
<dl class="method">
<dt id="simmix.TestSimmix.test_antonym_dict_for_symmetry">
<code class="descname">test_antonym_dict_for_symmetry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#TestSimmix.test_antonym_dict_for_symmetry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.TestSimmix.test_antonym_dict_for_symmetry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.TestSimmix.test_excluding_pair">
<code class="descname">test_excluding_pair</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#TestSimmix.test_excluding_pair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.TestSimmix.test_excluding_pair" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.TestSimmix.test_one_to_one_complex">
<code class="descname">test_one_to_one_complex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#TestSimmix.test_one_to_one_complex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.TestSimmix.test_one_to_one_complex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simmix.TestSimmix.test_one_to_one_simple">
<code class="descname">test_one_to_one_simple</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#TestSimmix.test_one_to_one_simple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.TestSimmix.test_one_to_one_simple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="simmix.cartesian_product_itertools">
<code class="descclassname">simmix.</code><code class="descname">cartesian_product_itertools</code><span class="sig-paren">(</span><em>arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simmix.html#cartesian_product_itertools"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#simmix.cartesian_product_itertools" title="Permalink to this definition">¶</a></dt>
<dd><p>Cartesian product, that works with functions and combinations of parameters and returns an ordered output, that
can be sliced with numpy and axis-indexing</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Stefan Werner

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>